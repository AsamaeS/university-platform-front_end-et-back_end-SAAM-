{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/university-platform-front_end%20et%20back_end/lib/clients/soap-client.tsx"],"sourcesContent":["interface SOAPRequestOptions {\n  namespace?: string\n  soapAction?: string\n}\n\nexport class SoapClient {\n  private baseUrl: string\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl\n  }\n\n  private buildSOAPEnvelope(methodName: string, params: Record<string, any>): string {\n    const paramXml = Object.entries(params)\n      .map(([key, value]) => `<${key}>${this.escapeXml(String(value))}</${key}>`)\n      .join(\"\")\n\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:tns=\"http://saam_projetsoa/\">\n  <soap:Body>\n    <tns:${methodName}>\n      ${paramXml}\n    </tns:${methodName}>\n  </soap:Body>\n</soap:Envelope>`\n  }\n\n  private escapeXml(str: string): string {\n    return str\n      .replace(/&/g, \"&amp;\")\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\")\n      .replace(/\"/g, \"&quot;\")\n      .replace(/'/g, \"&apos;\")\n  }\n\n  private parseSOAPResponse(xml: string): any {\n    try {\n      // Extract text content from response\n      const textMatch = xml.match(/<return>([\\s\\S]*?)<\\/return>/)\n      if (textMatch) {\n        const content = textMatch[1]\n        // Try to parse as JSON if it looks like it\n        try {\n          return JSON.parse(content)\n        } catch {\n          // Return as is if not JSON\n          return content\n        }\n      }\n      return null\n    } catch (error) {\n      console.error(\"[v0] SOAP Parse Error:\", error)\n      return null\n    }\n  }\n\n  async call<T>(methodName: string, params: Record<string, any>): Promise<T> {\n    try {\n      console.log(`[v0] SOAP Call: ${methodName}`, params)\n\n      const soapBody = this.buildSOAPEnvelope(methodName, params)\n\n      const response = await fetch(this.baseUrl, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"text/xml; charset=UTF-8\",\n          SOAPAction: `http://saam_projetsoa/${methodName}`,\n        },\n        body: soapBody,\n      })\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`)\n      }\n\n      const responseText = await response.text()\n      console.log(\"[v0] SOAP Response:\", responseText.substring(0, 200))\n\n      const result = this.parseSOAPResponse(responseText)\n      return result as T\n    } catch (error) {\n      console.error(\"[v0] SOAP Error:\", error)\n      throw new Error(`SOAP Error: ${error instanceof Error ? error.message : \"Unknown error\"}`)\n    }\n  }\n}\n\n// Create separate SOAP clients for each service\nexport const studentSoapClient = new SoapClient(\n  process.env.NEXT_PUBLIC_SOAP_STUDENT_URL || \"http://localhost:8089/ws/student\",\n)\nexport const teacherSoapClient = new SoapClient(\n  process.env.NEXT_PUBLIC_SOAP_TEACHER_URL || \"http://localhost:8087/ws/teacher\",\n)\nexport const courseSoapClient = new SoapClient(\n  process.env.NEXT_PUBLIC_SOAP_COURSE_URL || \"http://localhost:8086/ws/course\",\n)\n\nexport const soapClient = new SoapClient(process.env.NEXT_PUBLIC_SOAP_AUTH_URL || \"http://localhost:8088/ws/auth\")\n"],"names":[],"mappings":";;;;;;;;;;;;AAKO,MAAM;IACH,QAAe;IAEvB,YAAY,OAAe,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;IACjB;IAEQ,kBAAkB,UAAkB,EAAE,MAA2B,EAAU;QACjF,MAAM,WAAW,OAAO,OAAO,CAAC,QAC7B,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,GAAK,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,QAAQ,EAAE,EAAE,IAAI,CAAC,CAAC,EACzE,IAAI,CAAC;QAER,OAAO,CAAC;;;SAGH,EAAE,WAAW;MAChB,EAAE,SAAS;UACP,EAAE,WAAW;;gBAEP,CAAC;IACf;IAEQ,UAAU,GAAW,EAAU;QACrC,OAAO,IACJ,OAAO,CAAC,MAAM,SACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,UACd,OAAO,CAAC,MAAM;IACnB;IAEQ,kBAAkB,GAAW,EAAO;QAC1C,IAAI;YACF,qCAAqC;YACrC,MAAM,YAAY,IAAI,KAAK,CAAC;YAC5B,IAAI,WAAW;gBACb,MAAM,UAAU,SAAS,CAAC,EAAE;gBAC5B,2CAA2C;gBAC3C,IAAI;oBACF,OAAO,KAAK,KAAK,CAAC;gBACpB,EAAE,OAAM;oBACN,2BAA2B;oBAC3B,OAAO;gBACT;YACF;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO;QACT;IACF;IAEA,MAAM,KAAQ,UAAkB,EAAE,MAA2B,EAAc;QACzE,IAAI;YACF,QAAQ,GAAG,CAAC,CAAC,gBAAgB,EAAE,YAAY,EAAE;YAE7C,MAAM,WAAW,IAAI,CAAC,iBAAiB,CAAC,YAAY;YAEpD,MAAM,WAAW,MAAM,MAAM,IAAI,CAAC,OAAO,EAAE;gBACzC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,YAAY,CAAC,sBAAsB,EAAE,YAAY;gBACnD;gBACA,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,SAAS,UAAU,EAAE;YACnE;YAEA,MAAM,eAAe,MAAM,SAAS,IAAI;YACxC,QAAQ,GAAG,CAAC,uBAAuB,aAAa,SAAS,CAAC,GAAG;YAE7D,MAAM,SAAS,IAAI,CAAC,iBAAiB,CAAC;YACtC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oBAAoB;YAClC,MAAM,IAAI,MAAM,CAAC,YAAY,EAAE,iBAAiB,QAAQ,MAAM,OAAO,GAAG,iBAAiB;QAC3F;IACF;AACF;AAGO,MAAM,oBAAoB,IAAI,WACnC,QAAQ,GAAG,CAAC,4BAA4B,IAAI;AAEvC,MAAM,oBAAoB,IAAI,WACnC,QAAQ,GAAG,CAAC,4BAA4B,IAAI;AAEvC,MAAM,mBAAmB,IAAI,WAClC,QAAQ,GAAG,CAAC,2BAA2B,IAAI;AAGtC,MAAM,aAAa,IAAI,WAAW,QAAQ,GAAG,CAAC,yBAAyB,IAAI"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///D:/university-platform-front_end%20et%20back_end/lib/config/api-config.ts"],"sourcesContent":["// API Configuration for REST and SOAP endpoints\n\nexport const API_CONFIG = {\n  // REST API Base URL for Enrollments, Departments, Modules, Marks\n  REST_BASE_URL: process.env.NEXT_PUBLIC_REST_API_URL || \"http://localhost:8080/api\",\n\n  // SOAP Web Service URLs - Separate ports for each service\n  SOAP_SERVICES: {\n    STUDENT: process.env.NEXT_PUBLIC_SOAP_STUDENT_URL || \"http://localhost:8089/ws/student\",\n    TEACHER: process.env.NEXT_PUBLIC_SOAP_TEACHER_URL || \"http://localhost:8087/ws/teacher\",\n    COURSE: process.env.NEXT_PUBLIC_SOAP_COURSE_URL || \"http://localhost:8086/ws/course\",\n  },\n\n  // Timeout settings\n  TIMEOUT: 10000,\n\n  USE_MOCK_DATA: process.env.NEXT_PUBLIC_USE_MOCK_DATA === \"false\" ? false : true, // Default to true for development\n}\n\nexport const USE_MOCK_DATA = API_CONFIG.USE_MOCK_DATA\n\n// REST API Endpoints\nexport const REST_ENDPOINTS = {\n  // Enrollments/Registration\n  ENROLLMENTS: \"/enrollments\",\n  ENROLLMENT_BY_ID: (id: string) => `/enrollments/${id}`,\n  ENROLLMENT_BY_STUDENT: (studentId: string) => `/enrollments/student/${studentId}`,\n  ENROLLMENT_BY_COURSE: (courseId: string) => `/enrollments/course/${courseId}`,\n\n  // Departments\n  DEPARTMENTS: \"/departments\",\n  DEPARTMENT_BY_ID: (id: string) => `/departments/${id}`,\n\n  // Modules\n  MODULES: \"/modules\",\n  MODULE_BY_ID: (id: string) => `/modules/${id}`,\n  MODULE_BY_DEPARTMENT: (deptId: string) => `/modules/department/${deptId}`,\n\n  // Marks/Grades\n  MARKS: \"/marks\",\n  MARK_BY_ID: (id: string) => `/marks/${id}`,\n  MARKS_BY_STUDENT: (studentId: string) => `/marks/student/${studentId}`,\n  MARKS_BY_MODULE: (moduleId: string) => `/marks/module/${moduleId}`,\n\n  // Academic Tracking\n  ACADEMIC_TRACKING: \"/academic-tracking\",\n  STUDENT_TRANSCRIPT: (studentId: string) => `/academic-tracking/transcript/${studentId}`,\n  STUDENT_GPA: (studentId: string) => `/academic-tracking/gpa/${studentId}`,\n}\n\n// REST Services\nexport const REST_SERVICES = {\n  ENROLLMENT: \"/enrollments\",\n  DEPARTMENT: \"/departments\",\n  MODULE: \"/modules\",\n  MARK: \"/marks\",\n  ACADEMIC_TRACKING: \"/academic-tracking\",\n}\n\nexport const SOAP_SERVICES = {\n  AUTHENTICATION: \"AuthenticationService\",\n  STUDENT: \"StudentService\",\n  TEACHER: \"TeacherService\",\n  COURSE: \"CourseService\",\n}\n"],"names":[],"mappings":"AAAA,gDAAgD;;;;;;;;;;;;;AAEzC,MAAM,aAAa;IACxB,iEAAiE;IACjE,eAAe,QAAQ,GAAG,CAAC,wBAAwB,IAAI;IAEvD,0DAA0D;IAC1D,eAAe;QACb,SAAS,QAAQ,GAAG,CAAC,4BAA4B,IAAI;QACrD,SAAS,QAAQ,GAAG,CAAC,4BAA4B,IAAI;QACrD,QAAQ,QAAQ,GAAG,CAAC,2BAA2B,IAAI;IACrD;IAEA,mBAAmB;IACnB,SAAS;IAET,eAAe,QAAQ,GAAG,CAAC,yBAAyB,KAAK,UAAU,QAAQ;AAC7E;AAEO,MAAM,gBAAgB,WAAW,aAAa;AAG9C,MAAM,iBAAiB;IAC5B,2BAA2B;IAC3B,aAAa;IACb,kBAAkB,CAAC,KAAe,CAAC,aAAa,EAAE,IAAI;IACtD,uBAAuB,CAAC,YAAsB,CAAC,qBAAqB,EAAE,WAAW;IACjF,sBAAsB,CAAC,WAAqB,CAAC,oBAAoB,EAAE,UAAU;IAE7E,cAAc;IACd,aAAa;IACb,kBAAkB,CAAC,KAAe,CAAC,aAAa,EAAE,IAAI;IAEtD,UAAU;IACV,SAAS;IACT,cAAc,CAAC,KAAe,CAAC,SAAS,EAAE,IAAI;IAC9C,sBAAsB,CAAC,SAAmB,CAAC,oBAAoB,EAAE,QAAQ;IAEzE,eAAe;IACf,OAAO;IACP,YAAY,CAAC,KAAe,CAAC,OAAO,EAAE,IAAI;IAC1C,kBAAkB,CAAC,YAAsB,CAAC,eAAe,EAAE,WAAW;IACtE,iBAAiB,CAAC,WAAqB,CAAC,cAAc,EAAE,UAAU;IAElE,oBAAoB;IACpB,mBAAmB;IACnB,oBAAoB,CAAC,YAAsB,CAAC,8BAA8B,EAAE,WAAW;IACvF,aAAa,CAAC,YAAsB,CAAC,uBAAuB,EAAE,WAAW;AAC3E;AAGO,MAAM,gBAAgB;IAC3B,YAAY;IACZ,YAAY;IACZ,QAAQ;IACR,MAAM;IACN,mBAAmB;AACrB;AAEO,MAAM,gBAAgB;IAC3B,gBAAgB;IAChB,SAAS;IACT,SAAS;IACT,QAAQ;AACV"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///D:/university-platform-front_end%20et%20back_end/lib/mock/courses-mock.ts"],"sourcesContent":["import type { Course } from \"@/lib/api/courses\"\n\nexport const MOCK_COURSES: Course[] = [\n  {\n    id: \"1\",\n    code: \"CS401\",\n    name: \"Advanced Algorithms\",\n    description: \"Deep dive into algorithm design and analysis\",\n    credits: 3,\n    department: \"Computer Science\",\n    teacherId: \"1\",\n    teacherName: \"Prof. Mohammed BENNANI\",\n    schedule: \"Mon/Wed 10:00-11:30\",\n    capacity: 40,\n    enrolled: 35,\n    semester: \"Fall 2024\",\n    status: \"active\",\n  },\n  {\n    id: \"2\",\n    code: \"SE402\",\n    name: \"Software Architecture\",\n    description: \"Design patterns and architectural principles\",\n    credits: 3,\n    department: \"Software Engineering\",\n    teacherId: \"2\",\n    teacherName: \"Prof. Fatima ZAHRAE\",\n    schedule: \"Tue/Thu 14:00-15:30\",\n    capacity: 35,\n    enrolled: 30,\n    semester: \"Fall 2024\",\n    status: \"active\",\n  },\n  {\n    id: \"3\",\n    code: \"DS403\",\n    name: \"Machine Learning\",\n    description: \"Introduction to ML algorithms and applications\",\n    credits: 4,\n    department: \"Data Science\",\n    teacherId: \"3\",\n    teacherName: \"Prof. Ahmed KADIRI\",\n    schedule: \"Mon/Wed/Fri 13:00-14:00\",\n    capacity: 30,\n    enrolled: 30,\n    semester: \"Fall 2024\",\n    status: \"active\",\n  },\n  {\n    id: \"4\",\n    code: \"IS404\",\n    name: \"Database Design\",\n    description: \"Advanced database concepts and design\",\n    credits: 3,\n    department: \"Information Systems\",\n    teacherId: \"4\",\n    teacherName: \"Prof. Samira TAZI\",\n    schedule: \"Tue/Thu 10:00-11:30\",\n    capacity: 35,\n    enrolled: 28,\n    semester: \"Fall 2024\",\n    status: \"active\",\n  },\n]\n"],"names":[],"mappings":";;;;AAEO,MAAM,eAAyB;IACpC;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,WAAW;QACX,aAAa;QACb,UAAU;QACV,UAAU;QACV,UAAU;QACV,UAAU;QACV,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,WAAW;QACX,aAAa;QACb,UAAU;QACV,UAAU;QACV,UAAU;QACV,UAAU;QACV,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,WAAW;QACX,aAAa;QACb,UAAU;QACV,UAAU;QACV,UAAU;QACV,UAAU;QACV,QAAQ;IACV;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;QACZ,WAAW;QACX,aAAa;QACb,UAAU;QACV,UAAU;QACV,UAAU;QACV,UAAU;QACV,QAAQ;IACV;CACD"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///D:/university-platform-front_end%20et%20back_end/app/api/courses/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { courseSoapClient } from \"@/lib/clients/soap-client\"\nimport { API_CONFIG } from \"@/lib/config/api-config\"\nimport { MOCK_COURSES } from \"@/lib/mock/courses-mock\"\n\nexport async function GET() {\n  console.log(\"[v0] GET /api/courses - Using mock:\", API_CONFIG.USE_MOCK_DATA)\n\n  if (API_CONFIG.USE_MOCK_DATA) {\n    return NextResponse.json(MOCK_COURSES)\n  }\n\n  try {\n    // CourseService doesn't have getAllCourses method, return mock\n    console.log(\"[v0] CourseService doesn't expose getAllCourses, using mock data\")\n    return NextResponse.json(MOCK_COURSES)\n  } catch (error) {\n    console.error(\"[v0] Error:\", error)\n    return NextResponse.json(MOCK_COURSES)\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  console.log(\"[v0] POST /api/courses - Using mock:\", API_CONFIG.USE_MOCK_DATA)\n\n  const body = await request.json()\n\n  if (API_CONFIG.USE_MOCK_DATA) {\n    const newCourse = { id: Date.now().toString(), enrolled: 0, ...body }\n    MOCK_COURSES.push(newCourse)\n    return NextResponse.json(newCourse, { status: 201 })\n  }\n\n  try {\n    // CourseService.createCourse(coursId, titre, description, enseignant, credits, horaire)\n    const result = await courseSoapClient.call<any>(\"createCourse\", {\n      coursId: body.id,\n      titre: body.title,\n      description: body.description,\n      enseignant: body.instructor,\n      credits: body.credits,\n      horaire: body.schedule,\n    })\n\n    console.log(\"[v0] Course created:\", result)\n    return NextResponse.json({ id: body.id, enrolled: 0, ...body }, { status: 201 })\n  } catch (error) {\n    console.error(\"[v0] SOAP Error:\", error)\n    return NextResponse.json({ error: \"Failed to create course\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe;IACpB,QAAQ,GAAG,CAAC,uCAAuC,8IAAU,CAAC,aAAa;IAE3E,IAAI,8IAAU,CAAC,aAAa,EAAE;QAC5B,OAAO,gJAAY,CAAC,IAAI,CAAC,gJAAY;IACvC;IAEA,IAAI;QACF,+DAA+D;QAC/D,QAAQ,GAAG,CAAC;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC,gJAAY;IACvC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,eAAe;QAC7B,OAAO,gJAAY,CAAC,IAAI,CAAC,gJAAY;IACvC;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,QAAQ,GAAG,CAAC,wCAAwC,8IAAU,CAAC,aAAa;IAE5E,MAAM,OAAO,MAAM,QAAQ,IAAI;IAE/B,IAAI,8IAAU,CAAC,aAAa,EAAE;QAC5B,MAAM,YAAY;YAAE,IAAI,KAAK,GAAG,GAAG,QAAQ;YAAI,UAAU;YAAG,GAAG,IAAI;QAAC;QACpE,gJAAY,CAAC,IAAI,CAAC;QAClB,OAAO,gJAAY,CAAC,IAAI,CAAC,WAAW;YAAE,QAAQ;QAAI;IACpD;IAEA,IAAI;QACF,wFAAwF;QACxF,MAAM,SAAS,MAAM,uJAAgB,CAAC,IAAI,CAAM,gBAAgB;YAC9D,SAAS,KAAK,EAAE;YAChB,OAAO,KAAK,KAAK;YACjB,aAAa,KAAK,WAAW;YAC7B,YAAY,KAAK,UAAU;YAC3B,SAAS,KAAK,OAAO;YACrB,SAAS,KAAK,QAAQ;QACxB;QAEA,QAAQ,GAAG,CAAC,wBAAwB;QACpC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI,KAAK,EAAE;YAAE,UAAU;YAAG,GAAG,IAAI;QAAC,GAAG;YAAE,QAAQ;QAAI;IAChF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACF"}}]
}