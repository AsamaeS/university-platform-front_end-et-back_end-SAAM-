{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/university-platform-front_end%20et%20back_end/lib/clients/soap-client.tsx"],"sourcesContent":["interface SOAPRequestOptions {\n  namespace?: string\n  soapAction?: string\n}\n\nexport class SoapClient {\n  private baseUrl: string\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl\n  }\n\n  private buildSOAPEnvelope(methodName: string, params: Record<string, any>): string {\n    const paramXml = Object.entries(params)\n      .map(([key, value]) => `<${key}>${this.escapeXml(String(value))}</${key}>`)\n      .join(\"\")\n\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:tns=\"http://saam_projetsoa/\">\n  <soap:Body>\n    <tns:${methodName}>\n      ${paramXml}\n    </tns:${methodName}>\n  </soap:Body>\n</soap:Envelope>`\n  }\n\n  private escapeXml(str: string): string {\n    return str\n      .replace(/&/g, \"&amp;\")\n      .replace(/</g, \"&lt;\")\n      .replace(/>/g, \"&gt;\")\n      .replace(/\"/g, \"&quot;\")\n      .replace(/'/g, \"&apos;\")\n  }\n\n  private parseSOAPResponse(xml: string): any {\n    try {\n      // Extract text content from response\n      const textMatch = xml.match(/<return>([\\s\\S]*?)<\\/return>/)\n      if (textMatch) {\n        const content = textMatch[1]\n        // Try to parse as JSON if it looks like it\n        try {\n          return JSON.parse(content)\n        } catch {\n          // Return as is if not JSON\n          return content\n        }\n      }\n      return null\n    } catch (error) {\n      console.error(\"[v0] SOAP Parse Error:\", error)\n      return null\n    }\n  }\n\n  async call<T>(methodName: string, params: Record<string, any>): Promise<T> {\n    try {\n      console.log(`[v0] SOAP Call: ${methodName}`, params)\n\n      const soapBody = this.buildSOAPEnvelope(methodName, params)\n\n      const response = await fetch(this.baseUrl, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"text/xml; charset=UTF-8\",\n          SOAPAction: `http://saam_projetsoa/${methodName}`,\n        },\n        body: soapBody,\n      })\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`)\n      }\n\n      const responseText = await response.text()\n      console.log(\"[v0] SOAP Response:\", responseText.substring(0, 200))\n\n      const result = this.parseSOAPResponse(responseText)\n      return result as T\n    } catch (error) {\n      console.error(\"[v0] SOAP Error:\", error)\n      throw new Error(`SOAP Error: ${error instanceof Error ? error.message : \"Unknown error\"}`)\n    }\n  }\n}\n\n// Create separate SOAP clients for each service\nexport const studentSoapClient = new SoapClient(\n  process.env.NEXT_PUBLIC_SOAP_STUDENT_URL || \"http://localhost:8089/ws/student\",\n)\nexport const teacherSoapClient = new SoapClient(\n  process.env.NEXT_PUBLIC_SOAP_TEACHER_URL || \"http://localhost:8087/ws/teacher\",\n)\nexport const courseSoapClient = new SoapClient(\n  process.env.NEXT_PUBLIC_SOAP_COURSE_URL || \"http://localhost:8086/ws/course\",\n)\n\nexport const soapClient = new SoapClient(process.env.NEXT_PUBLIC_SOAP_AUTH_URL || \"http://localhost:8088/ws/auth\")\n"],"names":[],"mappings":";;;;;;;;;;;;AAKO,MAAM;IACH,QAAe;IAEvB,YAAY,OAAe,CAAE;QAC3B,IAAI,CAAC,OAAO,GAAG;IACjB;IAEQ,kBAAkB,UAAkB,EAAE,MAA2B,EAAU;QACjF,MAAM,WAAW,OAAO,OAAO,CAAC,QAC7B,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,GAAK,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,QAAQ,EAAE,EAAE,IAAI,CAAC,CAAC,EACzE,IAAI,CAAC;QAER,OAAO,CAAC;;;SAGH,EAAE,WAAW;MAChB,EAAE,SAAS;UACP,EAAE,WAAW;;gBAEP,CAAC;IACf;IAEQ,UAAU,GAAW,EAAU;QACrC,OAAO,IACJ,OAAO,CAAC,MAAM,SACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM,UACd,OAAO,CAAC,MAAM;IACnB;IAEQ,kBAAkB,GAAW,EAAO;QAC1C,IAAI;YACF,qCAAqC;YACrC,MAAM,YAAY,IAAI,KAAK,CAAC;YAC5B,IAAI,WAAW;gBACb,MAAM,UAAU,SAAS,CAAC,EAAE;gBAC5B,2CAA2C;gBAC3C,IAAI;oBACF,OAAO,KAAK,KAAK,CAAC;gBACpB,EAAE,OAAM;oBACN,2BAA2B;oBAC3B,OAAO;gBACT;YACF;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO;QACT;IACF;IAEA,MAAM,KAAQ,UAAkB,EAAE,MAA2B,EAAc;QACzE,IAAI;YACF,QAAQ,GAAG,CAAC,CAAC,gBAAgB,EAAE,YAAY,EAAE;YAE7C,MAAM,WAAW,IAAI,CAAC,iBAAiB,CAAC,YAAY;YAEpD,MAAM,WAAW,MAAM,MAAM,IAAI,CAAC,OAAO,EAAE;gBACzC,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,YAAY,CAAC,sBAAsB,EAAE,YAAY;gBACnD;gBACA,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,SAAS,UAAU,EAAE;YACnE;YAEA,MAAM,eAAe,MAAM,SAAS,IAAI;YACxC,QAAQ,GAAG,CAAC,uBAAuB,aAAa,SAAS,CAAC,GAAG;YAE7D,MAAM,SAAS,IAAI,CAAC,iBAAiB,CAAC;YACtC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oBAAoB;YAClC,MAAM,IAAI,MAAM,CAAC,YAAY,EAAE,iBAAiB,QAAQ,MAAM,OAAO,GAAG,iBAAiB;QAC3F;IACF;AACF;AAGO,MAAM,oBAAoB,IAAI,WACnC,QAAQ,GAAG,CAAC,4BAA4B,IAAI;AAEvC,MAAM,oBAAoB,IAAI,WACnC,QAAQ,GAAG,CAAC,4BAA4B,IAAI;AAEvC,MAAM,mBAAmB,IAAI,WAClC,QAAQ,GAAG,CAAC,2BAA2B,IAAI;AAGtC,MAAM,aAAa,IAAI,WAAW,QAAQ,GAAG,CAAC,yBAAyB,IAAI"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///D:/university-platform-front_end%20et%20back_end/lib/config/api-config.ts"],"sourcesContent":["// API Configuration for REST and SOAP endpoints\n\nexport const API_CONFIG = {\n  // REST API Base URL for Enrollments, Departments, Modules, Marks\n  REST_BASE_URL: process.env.NEXT_PUBLIC_REST_API_URL || \"http://localhost:8080/api\",\n\n  // SOAP Web Service URLs - Separate ports for each service\n  SOAP_SERVICES: {\n    STUDENT: process.env.NEXT_PUBLIC_SOAP_STUDENT_URL || \"http://localhost:8089/ws/student\",\n    TEACHER: process.env.NEXT_PUBLIC_SOAP_TEACHER_URL || \"http://localhost:8087/ws/teacher\",\n    COURSE: process.env.NEXT_PUBLIC_SOAP_COURSE_URL || \"http://localhost:8086/ws/course\",\n  },\n\n  // Timeout settings\n  TIMEOUT: 10000,\n\n  USE_MOCK_DATA: process.env.NEXT_PUBLIC_USE_MOCK_DATA === \"false\" ? false : true, // Default to true for development\n}\n\nexport const USE_MOCK_DATA = API_CONFIG.USE_MOCK_DATA\n\n// REST API Endpoints\nexport const REST_ENDPOINTS = {\n  // Enrollments/Registration\n  ENROLLMENTS: \"/enrollments\",\n  ENROLLMENT_BY_ID: (id: string) => `/enrollments/${id}`,\n  ENROLLMENT_BY_STUDENT: (studentId: string) => `/enrollments/student/${studentId}`,\n  ENROLLMENT_BY_COURSE: (courseId: string) => `/enrollments/course/${courseId}`,\n\n  // Departments\n  DEPARTMENTS: \"/departments\",\n  DEPARTMENT_BY_ID: (id: string) => `/departments/${id}`,\n\n  // Modules\n  MODULES: \"/modules\",\n  MODULE_BY_ID: (id: string) => `/modules/${id}`,\n  MODULE_BY_DEPARTMENT: (deptId: string) => `/modules/department/${deptId}`,\n\n  // Marks/Grades\n  MARKS: \"/marks\",\n  MARK_BY_ID: (id: string) => `/marks/${id}`,\n  MARKS_BY_STUDENT: (studentId: string) => `/marks/student/${studentId}`,\n  MARKS_BY_MODULE: (moduleId: string) => `/marks/module/${moduleId}`,\n\n  // Academic Tracking\n  ACADEMIC_TRACKING: \"/academic-tracking\",\n  STUDENT_TRANSCRIPT: (studentId: string) => `/academic-tracking/transcript/${studentId}`,\n  STUDENT_GPA: (studentId: string) => `/academic-tracking/gpa/${studentId}`,\n}\n\n// REST Services\nexport const REST_SERVICES = {\n  ENROLLMENT: \"/enrollments\",\n  DEPARTMENT: \"/departments\",\n  MODULE: \"/modules\",\n  MARK: \"/marks\",\n  ACADEMIC_TRACKING: \"/academic-tracking\",\n}\n\nexport const SOAP_SERVICES = {\n  AUTHENTICATION: \"AuthenticationService\",\n  STUDENT: \"StudentService\",\n  TEACHER: \"TeacherService\",\n  COURSE: \"CourseService\",\n}\n"],"names":[],"mappings":"AAAA,gDAAgD;;;;;;;;;;;;;AAEzC,MAAM,aAAa;IACxB,iEAAiE;IACjE,eAAe,QAAQ,GAAG,CAAC,wBAAwB,IAAI;IAEvD,0DAA0D;IAC1D,eAAe;QACb,SAAS,QAAQ,GAAG,CAAC,4BAA4B,IAAI;QACrD,SAAS,QAAQ,GAAG,CAAC,4BAA4B,IAAI;QACrD,QAAQ,QAAQ,GAAG,CAAC,2BAA2B,IAAI;IACrD;IAEA,mBAAmB;IACnB,SAAS;IAET,eAAe,QAAQ,GAAG,CAAC,yBAAyB,KAAK,UAAU,QAAQ;AAC7E;AAEO,MAAM,gBAAgB,WAAW,aAAa;AAG9C,MAAM,iBAAiB;IAC5B,2BAA2B;IAC3B,aAAa;IACb,kBAAkB,CAAC,KAAe,CAAC,aAAa,EAAE,IAAI;IACtD,uBAAuB,CAAC,YAAsB,CAAC,qBAAqB,EAAE,WAAW;IACjF,sBAAsB,CAAC,WAAqB,CAAC,oBAAoB,EAAE,UAAU;IAE7E,cAAc;IACd,aAAa;IACb,kBAAkB,CAAC,KAAe,CAAC,aAAa,EAAE,IAAI;IAEtD,UAAU;IACV,SAAS;IACT,cAAc,CAAC,KAAe,CAAC,SAAS,EAAE,IAAI;IAC9C,sBAAsB,CAAC,SAAmB,CAAC,oBAAoB,EAAE,QAAQ;IAEzE,eAAe;IACf,OAAO;IACP,YAAY,CAAC,KAAe,CAAC,OAAO,EAAE,IAAI;IAC1C,kBAAkB,CAAC,YAAsB,CAAC,eAAe,EAAE,WAAW;IACtE,iBAAiB,CAAC,WAAqB,CAAC,cAAc,EAAE,UAAU;IAElE,oBAAoB;IACpB,mBAAmB;IACnB,oBAAoB,CAAC,YAAsB,CAAC,8BAA8B,EAAE,WAAW;IACvF,aAAa,CAAC,YAAsB,CAAC,uBAAuB,EAAE,WAAW;AAC3E;AAGO,MAAM,gBAAgB;IAC3B,YAAY;IACZ,YAAY;IACZ,QAAQ;IACR,MAAM;IACN,mBAAmB;AACrB;AAEO,MAAM,gBAAgB;IAC3B,gBAAgB;IAChB,SAAS;IACT,SAAS;IACT,QAAQ;AACV"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///D:/university-platform-front_end%20et%20back_end/lib/mock/students-mock.ts"],"sourcesContent":["import type { Student } from \"@/lib/api/students\"\n\nexport const MOCK_STUDENTS: Student[] = [\n  {\n    id: \"1\",\n    firstName: \"Asmae\",\n    lastName: \"SERJI\",\n    email: \"asmae.serji@university.ma\",\n    phone: \"+212 6 12 34 56 78\",\n    dateOfBirth: \"2001-03-15\",\n    enrollmentDate: \"2020-09-01\",\n    major: \"Computer Science\",\n    year: 4,\n    gpa: 3.8,\n    status: \"active\",\n  },\n  {\n    id: \"2\",\n    firstName: \"Ahlam\",\n    lastName: \"ELBECHARRI\",\n    email: \"ahlam.elbecharri@university.ma\",\n    phone: \"+212 6 23 45 67 89\",\n    dateOfBirth: \"2001-07-22\",\n    enrollmentDate: \"2020-09-01\",\n    major: \"Software Engineering\",\n    year: 4,\n    gpa: 3.9,\n    status: \"active\",\n  },\n  {\n    id: \"3\",\n    firstName: \"Malak\",\n    lastName: \"MALK\",\n    email: \"malak.malk@university.ma\",\n    phone: \"+212 6 34 56 78 90\",\n    dateOfBirth: \"2001-11-08\",\n    enrollmentDate: \"2020-09-01\",\n    major: \"Data Science\",\n    year: 4,\n    gpa: 3.7,\n    status: \"active\",\n  },\n  {\n    id: \"4\",\n    firstName: \"Safae\",\n    lastName: \"ELHAMDAOUI\",\n    email: \"safae.elhamdaoui@university.ma\",\n    phone: \"+212 6 45 67 89 01\",\n    dateOfBirth: \"2002-01-30\",\n    enrollmentDate: \"2020-09-01\",\n    major: \"Information Systems\",\n    year: 4,\n    gpa: 3.85,\n    status: \"active\",\n  },\n  {\n    id: \"5\",\n    firstName: \"Youssef\",\n    lastName: \"ALAMI\",\n    email: \"youssef.alami@university.ma\",\n    phone: \"+212 6 56 78 90 12\",\n    dateOfBirth: \"2000-05-12\",\n    enrollmentDate: \"2019-09-01\",\n    major: \"Computer Science\",\n    year: 5,\n    gpa: 3.6,\n    status: \"active\",\n  },\n]\n"],"names":[],"mappings":";;;;AAEO,MAAM,gBAA2B;IACtC;QACE,IAAI;QACJ,WAAW;QACX,UAAU;QACV,OAAO;QACP,OAAO;QACP,aAAa;QACb,gBAAgB;QAChB,OAAO;QACP,MAAM;QACN,KAAK;QACL,QAAQ;IACV;IACA;QACE,IAAI;QACJ,WAAW;QACX,UAAU;QACV,OAAO;QACP,OAAO;QACP,aAAa;QACb,gBAAgB;QAChB,OAAO;QACP,MAAM;QACN,KAAK;QACL,QAAQ;IACV;IACA;QACE,IAAI;QACJ,WAAW;QACX,UAAU;QACV,OAAO;QACP,OAAO;QACP,aAAa;QACb,gBAAgB;QAChB,OAAO;QACP,MAAM;QACN,KAAK;QACL,QAAQ;IACV;IACA;QACE,IAAI;QACJ,WAAW;QACX,UAAU;QACV,OAAO;QACP,OAAO;QACP,aAAa;QACb,gBAAgB;QAChB,OAAO;QACP,MAAM;QACN,KAAK;QACL,QAAQ;IACV;IACA;QACE,IAAI;QACJ,WAAW;QACX,UAAU;QACV,OAAO;QACP,OAAO;QACP,aAAa;QACb,gBAAgB;QAChB,OAAO;QACP,MAAM;QACN,KAAK;QACL,QAAQ;IACV;CACD"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///D:/university-platform-front_end%20et%20back_end/app/api/students/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { studentSoapClient } from \"@/lib/clients/soap-client\"\nimport { API_CONFIG } from \"@/lib/config/api-config\"\nimport { MOCK_STUDENTS } from \"@/lib/mock/students-mock\"\n\nexport async function GET() {\n  console.log(\"[v0] GET /api/students - Using mock:\", API_CONFIG.USE_MOCK_DATA)\n\n  if (API_CONFIG.USE_MOCK_DATA) {\n    return NextResponse.json(MOCK_STUDENTS)\n  }\n\n  try {\n    // Note: StudentService doesn't have getAllStudents, return mock for now\n    console.log(\"[v0] StudentService doesn't expose getAllStudents, using mock data\")\n    return NextResponse.json(MOCK_STUDENTS)\n  } catch (error) {\n    console.error(\"[v0] Error:\", error)\n    return NextResponse.json(MOCK_STUDENTS)\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  console.log(\"[v0] POST /api/students - Using mock:\", API_CONFIG.USE_MOCK_DATA)\n\n  const body = await request.json()\n\n  if (API_CONFIG.USE_MOCK_DATA) {\n    const newStudent = { id: Date.now().toString(), ...body }\n    MOCK_STUDENTS.push(newStudent)\n    return NextResponse.json(newStudent, { status: 201 })\n  }\n\n  try {\n    // StudentService.createStudent(nom, etudiantId, filiere, annee)\n    const result = await studentSoapClient.call<any>(\"createStudent\", {\n      nom: body.firstName + \" \" + body.lastName,\n      etudiantId: body.id,\n      filiere: body.programme,\n      annee: body.year,\n    })\n\n    console.log(\"[v0] Student created:\", result)\n    return NextResponse.json({ id: body.id, ...body }, { status: 201 })\n  } catch (error) {\n    console.error(\"[v0] SOAP Error:\", error)\n    return NextResponse.json({ error: \"Failed to create student\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe;IACpB,QAAQ,GAAG,CAAC,wCAAwC,8IAAU,CAAC,aAAa;IAE5E,IAAI,8IAAU,CAAC,aAAa,EAAE;QAC5B,OAAO,gJAAY,CAAC,IAAI,CAAC,kJAAa;IACxC;IAEA,IAAI;QACF,wEAAwE;QACxE,QAAQ,GAAG,CAAC;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC,kJAAa;IACxC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,eAAe;QAC7B,OAAO,gJAAY,CAAC,IAAI,CAAC,kJAAa;IACxC;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,QAAQ,GAAG,CAAC,yCAAyC,8IAAU,CAAC,aAAa;IAE7E,MAAM,OAAO,MAAM,QAAQ,IAAI;IAE/B,IAAI,8IAAU,CAAC,aAAa,EAAE;QAC5B,MAAM,aAAa;YAAE,IAAI,KAAK,GAAG,GAAG,QAAQ;YAAI,GAAG,IAAI;QAAC;QACxD,kJAAa,CAAC,IAAI,CAAC;QACnB,OAAO,gJAAY,CAAC,IAAI,CAAC,YAAY;YAAE,QAAQ;QAAI;IACrD;IAEA,IAAI;QACF,gEAAgE;QAChE,MAAM,SAAS,MAAM,wJAAiB,CAAC,IAAI,CAAM,iBAAiB;YAChE,KAAK,KAAK,SAAS,GAAG,MAAM,KAAK,QAAQ;YACzC,YAAY,KAAK,EAAE;YACnB,SAAS,KAAK,SAAS;YACvB,OAAO,KAAK,IAAI;QAClB;QAEA,QAAQ,GAAG,CAAC,yBAAyB;QACrC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,IAAI,KAAK,EAAE;YAAE,GAAG,IAAI;QAAC,GAAG;YAAE,QAAQ;QAAI;IACnE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAChF;AACF"}}]
}